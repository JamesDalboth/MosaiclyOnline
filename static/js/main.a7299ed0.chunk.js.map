{"version":3,"sources":["components/ImageObj.tsx","components/ImageDisplay.tsx","components/InputForm.tsx","components/FileUpload.tsx","components/Footer.tsx","components/Main.tsx","App.tsx","index.tsx"],"names":["ImageObj","url","loading","Image","src","fluid","undefined","thumbnail","ImageDisplay","url1","url2","Row","Col","xs","span","offset","className","href","download","InputForm","onChange","onSubmit","onCheck","Form","Group","controlId","Label","Control","placeholder","type","required","Check","label","event","target","checked","Button","variant","onClick","FileUpload","onDrop","multiple","getRootProps","getInputProps","style","border","margin","Footer","Container","text-align","request","require","Main","React","useState","searchTerm","tileSize","colourAdjustment","fields","setFields","imageData","setImageData","result","setResult","setLoading","files","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","error","toBase64","then","base64","catch","console","log","key","id","val","value","stateUpdate","method","body","Number","headers","json","err","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a7299ed0.chunk.js","sourcesContent":["import React from 'react';\n\nimport { Image } from 'react-bootstrap';\n\nconst ImageObj: React.FC<{ url?: string; loading?: boolean }> = ({ url, loading }) => {\n  const loadingGif = 'https://media2.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif';\n  const defaultImg = 'https://www.mycontact.london/wp-content/uploads/2019/01/grey-square.png';\n\n  if (loading) {\n    return (\n      <Image src={loadingGif} fluid={true}/>\n    );\n  }\n\n  if (url === undefined) {\n    return (\n      <Image src={defaultImg} fluid={true} thumbnail/>\n    );\n  }\n\n  return (\n    <Image src={url} fluid={true} thumbnail/>\n  );\n};\n\nexport default ImageObj;\n","import React from 'react';\n\nimport { Col, Row } from 'react-bootstrap';\n\nimport ImageObj from './ImageObj';\n\nconst ImageDisplay: React.FC<{ url1?: string; url2?: string; loading: boolean}> = ({ url1, url2, loading }) => {\n  return (\n    <Row>\n      <Col xs={{ span: 3, offset: 2 }}>\n        <h3 className=\"text-center\"> Original </h3>\n        <ImageObj url={url1}/>\n      </Col>\n      <Col xs={{ span: 3, offset: 2 }}>\n        <h3 className=\"text-center\"> Mosaiced </h3>\n        <ImageObj url={url2} loading={loading}/>\n        {url2 !== undefined && <a href={url2} download>\n          <h4 className=\"text-center\"> Download </h4>\n        </a>}\n      </Col>\n    </Row>\n  );\n};\n\nexport default ImageDisplay;\n","import React from 'react';\n\nimport { Button, Form } from 'react-bootstrap';\n\ninterface FormFields {\n  searchTerm: string;\n  tileSize: string;\n  colourAdjustment: string;\n};\n\ntype InputChangeEvent = React.FormEvent<any> &\n  {\n    target: {\n      id: keyof FormFields;\n      value: FormFields[keyof FormFields];\n    };\n  }\n\ninterface InputFormProps {\n  onChange: (event: InputChangeEvent) => void;\n  onSubmit: VoidFunction;\n  onCheck: (key: string, val: boolean) => void;\n}\n\nconst InputForm: React.FC<InputFormProps> = ({ onChange, onSubmit, onCheck }) => {\n  return (\n    <>\n      <Form>\n        <Form.Group controlId=\"searchTerm\">\n          <Form.Label>Search Term</Form.Label>\n          <Form.Control\n            placeholder=\"Search Term\"\n            type=\"text\"\n            onChange={onChange}\n            required/>\n        </Form.Group>\n\n        <Form.Group controlId=\"tileSize\">\n          <Form.Label>Tile Size (px)</Form.Label>\n          <Form.Control\n            placeholder=\"5\"\n            type=\"text\"\n            onChange={onChange}\n            required/>\n        </Form.Group>\n\n        <Form.Group controlId=\"colourAdjustment\">\n          <Form.Check\n            type=\"checkbox\"\n            label=\"Colour Adjustment Mode\"\n            onChange={(event: any) => {\n              onCheck('colourAdjustment', event.target.checked);\n            }}/>\n        </Form.Group>\n\n        <Button variant=\"primary\" onClick={onSubmit}>\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default InputForm;\n","import React from 'react';\nimport Dropzone from 'react-dropzone';\n\nimport { Col, Row } from 'react-bootstrap';\n\nconst FileUpload: React.FC<{ onDrop: (files: any[]) => void }> = ({ onDrop }) => {\n  return (\n    <Row>\n      <Col xs={{ span: 6, offset: 3 }}>\n        <Dropzone\n          multiple={false}\n          onDrop={onDrop}>\n          {({ getRootProps, getInputProps }) => (\n            <section>\n              <div {...getRootProps()} style={{ border: '2px dashed grey', margin: '25px' }}>\n                <input {...getInputProps()} />\n                <p className=\"text-center\">Upload a file here!</p>\n              </div>\n            </section>\n          )}\n        </Dropzone>\n      </Col>\n    </Row>\n  );\n};\n\nexport default FileUpload;\n","import React from 'react';\n\nimport { Col, Container, Row } from 'react-bootstrap';\n\nconst Footer: React.FC = () => {\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <hr/>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <a text-align=\"center\" href={'https://github.com/JamesDalboth/MosaiclyOnline'}>\n            <h4 className=\"text-center\">\n              Source Code\n            </h4>\n          </a>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <p className=\"text-center\">\n            Built by James Dalboth\n          </p>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <a text-align=\"center\" href={'https://github.com/JamesDalboth/Mosaicly'}>\n            <h4 className=\"text-center\">\n              Original Source Code\n            </h4>\n          </a>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <p className=\"text-center\">\n            Original built by James Dalboth, Matthew Ho, Rohit Prasad and Harry Black\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\n\nimport { Col, Container, Row } from 'react-bootstrap';\n\nimport ImageDisplay from './ImageDisplay';\nimport InputForm from './InputForm';\nimport FileUpload from './FileUpload';\nimport Footer from './Footer';\n\n// eslint-disable-next-line\nconst request = require('request-promise');\n\ninterface FormFields {\n  searchTerm: string;\n  tileSize: string;\n  colourAdjustment: string;\n};\n\ntype InputChangeEvent = React.FormEvent<any> &\n  {\n    target: {\n      id: keyof FormFields;\n      value: FormFields[keyof FormFields];\n    };\n  }\n\nconst Main: React.FC = () => {\n  const [fields, setFields] = React.useState<FormFields>(\n    {\n      searchTerm: '',\n      tileSize: '',\n      colourAdjustment: '',\n    },\n  );\n  const [imageData, setImageData] = React.useState<string>();\n  const [result, setResult] = React.useState<string>();\n  const [loading, setLoading] = React.useState<boolean>(false);\n\n  const onSubmit = (): void => {\n    setLoading(true);\n    setResult(undefined);\n\n    console.log(fields.colourAdjustment);\n\n    request({\n      method: 'POST',\n      url: 'https://hmdvu2o3zh.execute-api.us-east-1.amazonaws.com/prod',\n      body: {\n        'searchTerm': fields.searchTerm,\n        'data': imageData,\n        'tileSize': Number(fields.tileSize),\n        'colourAdjustment': fields.colourAdjustment === 'true',\n      },\n      headers: {\n        'Origin': 'http://dalboth.com/MosaiclyOnline/',\n      },\n      json: true,\n    })\n      .then((url: string) => {\n        console.log(url);\n        setResult(url);\n        setLoading(false);\n      })\n      .catch((err: any) => {\n        console.log(err);\n        setLoading(false);\n      });\n  };\n\n  const onChange = (event: InputChangeEvent): void => {\n    const key = event.target.id;\n    const val = event.target.value;\n\n    const stateUpdate = { fields: fields as Pick<FormFields, keyof FormFields> };\n    stateUpdate.fields[key] = val;\n    setFields(stateUpdate.fields);\n  };\n\n  const onCheck = (key: string, val: boolean): void => {\n    const stateUpdate = { fields: fields as Pick<FormFields, keyof FormFields> };\n    (stateUpdate as any).fields[key] = '' + val;\n    setFields(stateUpdate.fields);\n  };\n\n  const toBase64 = (file: any): Promise<string> => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = error => reject(error);\n  });\n\n  const onDrop = (files: any[]): void => {\n    const file = files[0];\n    toBase64(file)\n      .then((base64: string) => setImageData(base64))\n      .catch(console.log);\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <h1 className=\"text-center\">Mosaicly Online</h1>\n          <hr/>\n        </Col>\n      </Row>\n      <ImageDisplay url1={imageData} url2={result} loading={loading}/>\n      <FileUpload onDrop={onDrop}/>\n      <Row>\n        <Col xs={{ span: 8, offset: 2 }}>\n          <InputForm onChange={onChange} onSubmit={onSubmit} onCheck={onCheck}/>\n        </Col>\n      </Row>\n      <Row>\n        <Footer/>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport './App.css';\n\nimport Main from './components/Main';\n\nfunction App (): JSX.Element {\n  return (\n    <Main/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './theme.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}